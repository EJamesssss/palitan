<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">My Transaction History</button>
  </li>
  <% if current_user.admin%>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">All Transaction History</button>
    </li>
  <% end %>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
    <div class="table-box"> 
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>USER</th>
            <th>SYMBOL</th>
            <th>COMPANY NAME</th>
            <th>QTY</th>
            <th>PRICE PER SHARE</th>
            <th>TRANSACTION TYPE</th>
            <th>TRANSACTION DATE</th>
          </tr>
        </thead>
        <tbody>
          <% if @transactions.count == 0 %>
          <tr>
            <td><i> No data available in table </i></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <% end %>
          <% @transactions.each do |transaction|%>
            <tr>
              <td><%= transaction.user.email%></td>
              <td><%= transaction.symbol%></td>
              <td><%= transaction.company_name%></td>
              <td><%= transaction.shares%></td>
              <td>₱ <%= transaction.cost_price%></td>
              <td><%= transaction.transaction_type%></td>
              <td><%= transaction.created_at.strftime('%B %e %Y at %l:%M %p')%></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
  <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
    <div class="table-box"> 
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>USER</th>
            <th>SYMBOL</th>
            <th>COMPANY NAME</th>
            <th>QTY</th>
            <th>PRICE PER SHARE</th>
            <th>TRANSACTION TYPE</th>
            <th>TRANSACTION DATE</th>
          </tr>
        </thead>
        <tbody>
          <% if @logs.count == 0 %>
          <tr>
            <td><i> No data available in table </i></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <% end %>
          <% @logs.each do |log|%>
            <tr>
              <td><%= log.user.email%></td>
              <td><%= log.symbol%></td>
              <td><%= log.company_name%></td>
              <td><%= log.shares%></td>
              <td>₱ <%= log.cost_price%></td>
              <td><%= log.transaction_type%></td>
              <td><%= log.created_at.strftime('%B %e %Y at %l:%M %p')%></td>
            </tr>
          <% end %>
        </tbody>
        <tfoot>
          <th><%= paginate @logs, theme: 'bootstrap-5',pagination_class: "pagination-sm flex-wrap justify-content-center",
            nav_class: "d-inline-block"%></th>
        </tfoot>
      </table>
    </div>  
  </div>
</div>